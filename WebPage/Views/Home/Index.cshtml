@{
    ViewData["Title"] = "OnlyDevs - Contacto";
}

<div class="container">
    <h1>Bienvenido a OnlyDevs</h1>
    <p>Tu mejor opción para soluciones tecnológicas innovadoras.</p>
</div>

<!-- Formulario de Contacto -->
<div class="contact-form">
    <h3>Contáctanos</h3>
    <form id="contactForm">
        <input type="text" name="Name" placeholder="Nombre" required>
        <input type="email" name="Email" placeholder="Correo Electrónico" required>
        <textarea name="Message" placeholder="Mensaje" required></textarea>
        <button type="submit">Enviar</button>
    </form>
</div>

<!-- Modal de Confirmación (Oculto al inicio) -->
<div id="confirmationModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>¡Mensaje Enviado!</h2>
        <p>Gracias por contactarnos. Te responderemos pronto.</p>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        let modal = document.getElementById("confirmationModal");
        let closeModal = document.querySelector(".close");

        document.getElementById("contactForm").addEventListener("submit", function (event) {
            event.preventDefault();
            let formData = new FormData(this);

            fetch("/Contact/Submit", {
                method: "POST",
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // Mostrar el modal correctamente después del envío
                    modal.style.display = "flex";
                    modal.classList.add("fade-in");

                    // Ocultar el modal después de 3 segundos
                    setTimeout(() => {
                        modal.classList.remove("fade-in");
                        modal.classList.add("fade-out");
                        setTimeout(() => {
                            modal.style.display = "none";
                            modal.classList.remove("fade-out");
                        }, 500);
                    }, 3000);
                } else {
                    alert("Error en el envío del formulario.");
                }
            })
            .catch(error => console.error("Error:", error));
        });

        // Cerrar el modal manualmente
        closeModal.addEventListener("click", function () {
            modal.style.display = "none";
        });
    });
</script>
